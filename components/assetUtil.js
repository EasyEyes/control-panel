const pathList = [
  '/control-panel/threshold/.gitignore',
  '/control-panel/threshold/.gitmodules',
  '/control-panel/threshold/.prettierignore',
  '/control-panel/threshold/index.html',
  '/control-panel/threshold/LICENSE',
  '/control-panel/threshold/netlify.toml',
  '/control-panel/threshold/package-lock.json',
  '/control-panel/threshold/package.json',
  '/control-panel/threshold/README.md',
  '/control-panel/threshold/threshold.js',
  '/control-panel/threshold/.github/ISSUE_TEMPLATE/bug_report.md',
  '/control-panel/threshold/.github/ISSUE_TEMPLATE/feature_request.md',
  '/control-panel/threshold/.husky/.gitignore',
  '/control-panel/threshold/.husky/pre-commit',
  '/control-panel/threshold/addons/jsQUEST.module.js',
  '/control-panel/threshold/addons/jsQUEST.module.js.map',
  '/control-panel/threshold/addons/legacy/preprocessor.py',
  '/control-panel/threshold/addons/legacy/requirements.txt',
  '/control-panel/threshold/addons/legacy/threshold.psyexp',
  '/control-panel/threshold/components/bounding.js',
  '/control-panel/threshold/components/consent.js',
  '/control-panel/threshold/components/i18n.js',
  '/control-panel/threshold/components/instructions.js',
  '/control-panel/threshold/components/showAlphabet.js',
  '/control-panel/threshold/components/sound.js',
  '/control-panel/threshold/components/trialCounter.js',
  '/control-panel/threshold/components/utils.js',
  '/control-panel/threshold/css/consent.css',
  '/control-panel/threshold/css/custom.css',
  '/control-panel/threshold/css/instructions.css',
  '/control-panel/threshold/css/showAlphabet.css',
  '/control-panel/threshold/css/utils.css',
  '/control-panel/threshold/fonts/Douglass Pen.woff2',
  '/control-panel/threshold/fonts/IBMPlexSansArabic.woff2',
  '/control-panel/threshold/fonts/P22 Aragon.woff2',
  '/control-panel/threshold/fonts/Roboto Mono.woff2',
  '/control-panel/threshold/fonts/Sloan.woff2',
  '/control-panel/threshold/forms/consent-form.md',
  '/control-panel/threshold/forms/consent-form.pdf',
  '/control-panel/threshold/psychojs/.dprint.json',
  '/control-panel/threshold/psychojs/.editorconfig',
  '/control-panel/threshold/psychojs/.eslintrc.cjs',
  '/control-panel/threshold/psychojs/.gitignore',
  '/control-panel/threshold/psychojs/CHANGELOG.md',
  '/control-panel/threshold/psychojs/code-of-conduct.md',
  '/control-panel/threshold/psychojs/CONTRIBUTING.md',
  '/control-panel/threshold/psychojs/LICENSE.md',
  '/control-panel/threshold/psychojs/package-lock.json',
  '/control-panel/threshold/psychojs/package.json',
  '/control-panel/threshold/psychojs/README.md',
  '/control-panel/threshold/psychojs/.github/workflows/Automated Test (full).yml',
  '/control-panel/threshold/psychojs/.github/workflows/Automated Test (short).yml',
  '/control-panel/threshold/psychojs/docs/core_EventManager.js.html',
  '/control-panel/threshold/psychojs/docs/core_GUI.js.html',
  '/control-panel/threshold/psychojs/docs/core_Keyboard.js.html',
  '/control-panel/threshold/psychojs/docs/core_Logger.js.html',
  '/control-panel/threshold/psychojs/docs/core_MinimalStim.js.html',
  '/control-panel/threshold/psychojs/docs/core_Mouse.js.html',
  '/control-panel/threshold/psychojs/docs/core_PsychoJS.js.html',
  '/control-panel/threshold/psychojs/docs/core_ServerManager.js.html',
  '/control-panel/threshold/psychojs/docs/core_Window.js.html',
  '/control-panel/threshold/psychojs/docs/core_WindowMixin.js.html',
  '/control-panel/threshold/psychojs/docs/data_ExperimentHandler.js.html',
  '/control-panel/threshold/psychojs/docs/data_TrialHandler.js.html',
  '/control-panel/threshold/psychojs/docs/index.html',
  '/control-panel/threshold/psychojs/docs/module-core.BuilderKeyResponse.html',
  '/control-panel/threshold/psychojs/docs/module-core.EventManager.html',
  '/control-panel/threshold/psychojs/docs/module-core.GUI.html',
  '/control-panel/threshold/psychojs/docs/module-core.html',
  '/control-panel/threshold/psychojs/docs/module-core.Keyboard.html',
  '/control-panel/threshold/psychojs/docs/module-core.KeyPress.html',
  '/control-panel/threshold/psychojs/docs/module-core.Logger.html',
  '/control-panel/threshold/psychojs/docs/module-core.MinimalStim.html',
  '/control-panel/threshold/psychojs/docs/module-core.Mouse.html',
  '/control-panel/threshold/psychojs/docs/module-core.PsychoJS.html',
  '/control-panel/threshold/psychojs/docs/module-core.ServerManager.html',
  '/control-panel/threshold/psychojs/docs/module-core.Window.html',
  '/control-panel/threshold/psychojs/docs/module-core.WindowMixin.html',
  '/control-panel/threshold/psychojs/docs/module-data.ExperimentHandler.html',
  '/control-panel/threshold/psychojs/docs/module-data.html',
  '/control-panel/threshold/psychojs/docs/module-data.TrialHandler.html',
  '/control-panel/threshold/psychojs/docs/module-sound.AudioClip.html',
  '/control-panel/threshold/psychojs/docs/module-sound.html',
  '/control-panel/threshold/psychojs/docs/module-sound.Microphone.html',
  '/control-panel/threshold/psychojs/docs/module-sound.Sound.html',
  '/control-panel/threshold/psychojs/docs/module-sound.SoundPlayer.html',
  '/control-panel/threshold/psychojs/docs/module-sound.TonePlayer.html',
  '/control-panel/threshold/psychojs/docs/module-sound.TrackPlayer.html',
  '/control-panel/threshold/psychojs/docs/module-util.Clock.html',
  '/control-panel/threshold/psychojs/docs/module-util.Color.html',
  '/control-panel/threshold/psychojs/docs/module-util.ColorMixin.html',
  '/control-panel/threshold/psychojs/docs/module-util.CountdownTimer.html',
  '/control-panel/threshold/psychojs/docs/module-util.EventEmitter.html',
  '/control-panel/threshold/psychojs/docs/module-util.html',
  '/control-panel/threshold/psychojs/docs/module-util.MixinBuilder.html',
  '/control-panel/threshold/psychojs/docs/module-util.MonotonicClock.html',
  '/control-panel/threshold/psychojs/docs/module-util.PsychObject.html',
  '/control-panel/threshold/psychojs/docs/module-util.Scheduler.html',
  '/control-panel/threshold/psychojs/docs/module-visual.ButtonStim.html',
  '/control-panel/threshold/psychojs/docs/module-visual.Form.html',
  '/control-panel/threshold/psychojs/docs/module-visual.html',
  '/control-panel/threshold/psychojs/docs/module-visual.ImageStim.html',
  '/control-panel/threshold/psychojs/docs/module-visual.MovieStim.html',
  '/control-panel/threshold/psychojs/docs/module-visual.Polygon.html',
  '/control-panel/threshold/psychojs/docs/module-visual.Rect.html',
  '/control-panel/threshold/psychojs/docs/module-visual.ShapeStim.html',
  '/control-panel/threshold/psychojs/docs/module-visual.Slider.html',
  '/control-panel/threshold/psychojs/docs/module-visual.TextBox.html',
  '/control-panel/threshold/psychojs/docs/module-visual.TextStim.html',
  '/control-panel/threshold/psychojs/docs/module-visual.VisualStim.html',
  '/control-panel/threshold/psychojs/docs/sound_AudioClip.js.html',
  '/control-panel/threshold/psychojs/docs/sound_Microphone.js.html',
  '/control-panel/threshold/psychojs/docs/sound_Sound.js.html',
  '/control-panel/threshold/psychojs/docs/sound_SoundPlayer.js.html',
  '/control-panel/threshold/psychojs/docs/sound_TonePlayer.js.html',
  '/control-panel/threshold/psychojs/docs/sound_TrackPlayer.js.html',
  '/control-panel/threshold/psychojs/docs/util_Clock.js.html',
  '/control-panel/threshold/psychojs/docs/util_Color.js.html',
  '/control-panel/threshold/psychojs/docs/util_ColorMixin.js.html',
  '/control-panel/threshold/psychojs/docs/util_EventEmitter.js.html',
  '/control-panel/threshold/psychojs/docs/util_PsychObject.js.html',
  '/control-panel/threshold/psychojs/docs/util_Scheduler.js.html',
  '/control-panel/threshold/psychojs/docs/util_Util.js.html',
  '/control-panel/threshold/psychojs/docs/visual_ButtonStim.js.html',
  '/control-panel/threshold/psychojs/docs/visual_Form.js.html',
  '/control-panel/threshold/psychojs/docs/visual_ImageStim.js.html',
  '/control-panel/threshold/psychojs/docs/visual_MovieStim.js.html',
  '/control-panel/threshold/psychojs/docs/visual_Polygon.js.html',
  '/control-panel/threshold/psychojs/docs/visual_Rect.js.html',
  '/control-panel/threshold/psychojs/docs/visual_ShapeStim.js.html',
  '/control-panel/threshold/psychojs/docs/visual_Slider.js.html',
  '/control-panel/threshold/psychojs/docs/visual_TextBox.js.html',
  '/control-panel/threshold/psychojs/docs/visual_TextStim.js.html',
  '/control-panel/threshold/psychojs/docs/visual_VisualStim.js.html',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Bold-webfont.eot',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Bold-webfont.svg',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Bold-webfont.woff',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-BoldItalic-webfont.eot',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-BoldItalic-webfont.svg',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-BoldItalic-webfont.woff',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Italic-webfont.eot',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Italic-webfont.svg',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Italic-webfont.woff',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Light-webfont.eot',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Light-webfont.svg',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Light-webfont.woff',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-LightItalic-webfont.eot',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-LightItalic-webfont.svg',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-LightItalic-webfont.woff',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Regular-webfont.eot',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Regular-webfont.svg',
  '/control-panel/threshold/psychojs/docs/fonts/OpenSans-Regular-webfont.woff',
  '/control-panel/threshold/psychojs/docs/scripts/linenumber.js',
  '/control-panel/threshold/psychojs/docs/scripts/prettify/Apache-License-2.0.txt',
  '/control-panel/threshold/psychojs/docs/scripts/prettify/lang-css.js',
  '/control-panel/threshold/psychojs/docs/scripts/prettify/prettify.js',
  '/control-panel/threshold/psychojs/docs/styles/jsdoc-default.css',
  '/control-panel/threshold/psychojs/docs/styles/prettify-jsdoc.css',
  '/control-panel/threshold/psychojs/docs/styles/prettify-tomorrow.css',
  '/control-panel/threshold/psychojs/out/psychojs-2021.3.0.css',
  '/control-panel/threshold/psychojs/out/psychojs-2021.3.0.iife.js',
  '/control-panel/threshold/psychojs/out/psychojs-2021.3.0.iife.js.map',
  '/control-panel/threshold/psychojs/out/psychojs-2021.3.0.js',
  '/control-panel/threshold/psychojs/out/psychojs-2021.3.0.js.LEGAL.txt',
  '/control-panel/threshold/psychojs/out/psychojs-2021.3.0.js.map',
  '/control-panel/threshold/psychojs/scripts/build.css.cjs',
  '/control-panel/threshold/psychojs/scripts/build.js.cjs',
  '/control-panel/threshold/psychojs/src/index.css',
  '/control-panel/threshold/psychojs/src/index.js',
  '/control-panel/threshold/psychojs/src/core/EventManager.js',
  '/control-panel/threshold/psychojs/src/core/GUI.js',
  '/control-panel/threshold/psychojs/src/core/index.js',
  '/control-panel/threshold/psychojs/src/core/Keyboard.js',
  '/control-panel/threshold/psychojs/src/core/Logger.js',
  '/control-panel/threshold/psychojs/src/core/MinimalStim.js',
  '/control-panel/threshold/psychojs/src/core/Mouse.js',
  '/control-panel/threshold/psychojs/src/core/PsychoJS.js',
  '/control-panel/threshold/psychojs/src/core/ServerManager.js',
  '/control-panel/threshold/psychojs/src/core/Window.js',
  '/control-panel/threshold/psychojs/src/core/WindowMixin.js',
  '/control-panel/threshold/psychojs/src/data/ExperimentHandler.js',
  '/control-panel/threshold/psychojs/src/data/index.js',
  '/control-panel/threshold/psychojs/src/data/MultiStairHandler.js',
  '/control-panel/threshold/psychojs/src/data/QuestHandler.js',
  '/control-panel/threshold/psychojs/src/data/TrialHandler.js',
  '/control-panel/threshold/psychojs/src/sound/AudioClip.js',
  '/control-panel/threshold/psychojs/src/sound/AudioClipPlayer.js',
  '/control-panel/threshold/psychojs/src/sound/index.js',
  '/control-panel/threshold/psychojs/src/sound/Microphone.js',
  '/control-panel/threshold/psychojs/src/sound/Sound.js',
  '/control-panel/threshold/psychojs/src/sound/SoundPlayer.js',
  '/control-panel/threshold/psychojs/src/sound/TonePlayer.js',
  '/control-panel/threshold/psychojs/src/sound/TrackPlayer.js',
  '/control-panel/threshold/psychojs/src/util/Clock.js',
  '/control-panel/threshold/psychojs/src/util/Color.js',
  '/control-panel/threshold/psychojs/src/util/ColorMixin.js',
  '/control-panel/threshold/psychojs/src/util/EventEmitter.js',
  '/control-panel/threshold/psychojs/src/util/index.js',
  '/control-panel/threshold/psychojs/src/util/Pixi.js',
  '/control-panel/threshold/psychojs/src/util/PsychObject.js',
  '/control-panel/threshold/psychojs/src/util/Scheduler.js',
  '/control-panel/threshold/psychojs/src/util/Util.js',
  '/control-panel/threshold/psychojs/src/util/Util.test.js',
  '/control-panel/threshold/psychojs/src/visual/ButtonStim.js',
  '/control-panel/threshold/psychojs/src/visual/Camera.js',
  '/control-panel/threshold/psychojs/src/visual/FaceDetector.js',
  '/control-panel/threshold/psychojs/src/visual/Form.js',
  '/control-panel/threshold/psychojs/src/visual/ImageStim.js',
  '/control-panel/threshold/psychojs/src/visual/index.js',
  '/control-panel/threshold/psychojs/src/visual/MovieStim.js',
  '/control-panel/threshold/psychojs/src/visual/Polygon.js',
  '/control-panel/threshold/psychojs/src/visual/Rect.js',
  '/control-panel/threshold/psychojs/src/visual/ShapeStim.js',
  '/control-panel/threshold/psychojs/src/visual/Slider.js',
  '/control-panel/threshold/psychojs/src/visual/TextBox.js',
  '/control-panel/threshold/psychojs/src/visual/TextInput.js',
  '/control-panel/threshold/psychojs/src/visual/TextStim.js',
  '/control-panel/threshold/psychojs/src/visual/VisualStim.js',
];

const getEnvironment = async () => {
  let response = await getAssetFileContent('/threshold/environment.json');
  response = JSON.parse(response);
  return response
};

const getGitlabBodyForThreshold = async (startIndex, endIndex) => {
  const res = [];

  for (let i=startIndex; i<=endIndex; i++) {
    const path = pathList[i];
    const content = await getAssetFileContent(path);
    res.push({
      action: "create",
      file_path: path.substring(25), 
      content
    });
  }
  return res;
}

const getAssetFileContent = async (filePath) => {
  return await fetch(filePath)
  .then(response =>  {return response.text()})
  .then(result => {return result})
  .catch(error => {return error});
};